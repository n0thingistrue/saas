# =============================================================================
# Secret Samba-AD Credentials - EXEMPLE
# =============================================================================
# Commande pour creer le SealedSecret :
#   kubectl create secret generic samba-ad-credentials \
#     --namespace production \
#     --from-literal=ADMIN_PASSWORD='MotDePasseAdminForT!2024' \
#     --from-literal=LDAP_BIND_DN='CN=app-backend,OU=Services,DC=saas,DC=local' \
#     --from-literal=LDAP_BIND_PASSWORD='MotDePasseBindForT!' \
#     --from-literal=LDAP_BASE_DN='DC=saas,DC=local' \
#     --from-literal=LDAP_USERS_DN='OU=Users,DC=saas,DC=local' \
#     --from-literal=KERBEROS_REALM='SAAS.LOCAL' \
#     --dry-run=client -o yaml | \
#   kubeseal --format yaml \
#     > kubernetes/secrets/samba-ad-sealed.yaml
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: samba-ad-credentials
  namespace: production
  labels:
    app: samba-ad
    app.kubernetes.io/name: samba-ad
    app.kubernetes.io/component: credentials
type: Opaque
stringData:
  # Mot de passe Domain Administrator
  ADMIN_PASSWORD: "CHANGE_ME_admin_password"
  # LDAP Bind DN pour le backend NestJS
  LDAP_BIND_DN: "CN=app-backend,OU=Services,DC=saas,DC=local"
  # Mot de passe LDAP Bind
  LDAP_BIND_PASSWORD: "CHANGE_ME_ldap_bind_password"
  # Base DN pour les recherches LDAP
  LDAP_BASE_DN: "DC=saas,DC=local"
  # OU contenant les utilisateurs
  LDAP_USERS_DN: "OU=Users,DC=saas,DC=local"
  # Realm Kerberos
  KERBEROS_REALM: "SAAS.LOCAL"
