# =============================================================================
# Secret Redis Credentials - EXEMPLE
# =============================================================================
# NE PAS COMMITER avec des vrais mots de passe !
#
# Commande pour creer le SealedSecret :
#   kubectl create secret generic redis-credentials \
#     --namespace production \
#     --from-literal=REDIS_PASSWORD='VotreMotDePasseRedisForT!' \
#     --dry-run=client -o yaml | \
#   kubeseal \
#     --controller-name=sealed-secrets-controller \
#     --controller-namespace=security \
#     --format yaml \
#     > kubernetes/secrets/redis-sealed-secret.yaml
# =============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: redis-credentials
  namespace: production
  labels:
    app: redis
    app.kubernetes.io/name: redis
    app.kubernetes.io/component: credentials
type: Opaque
stringData:
  REDIS_PASSWORD: "CHANGE_ME_redis_password"
  # URL de connexion pour le backend (via Sentinel)
  REDIS_URL: "redis://:CHANGE_ME_redis_password@redis-master.production.svc:6379/0"
  # URL Sentinel pour les clients Sentinel-aware
  REDIS_SENTINEL_URL: "redis-sentinel.production.svc:26379"
  REDIS_SENTINEL_MASTER_NAME: "mymaster"
