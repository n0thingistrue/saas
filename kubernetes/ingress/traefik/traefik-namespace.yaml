# =============================================================================
# Namespace Ingress - Labels specifiques Traefik
# =============================================================================
# Le namespace ingress est deja cree dans base/namespaces.
# Ce fichier ajoute les labels et annotations specifiques a Traefik.
#
# Pod Security Standard : privileged (Traefik a besoin de NET_BIND_SERVICE
# pour ecouter sur les ports 80/443).
# =============================================================================
apiVersion: v1
kind: Namespace
metadata:
  name: ingress
  labels:
    app.kubernetes.io/name: traefik
    app.kubernetes.io/component: ingress-controller
    app.kubernetes.io/part-of: networking
    # PSS : privileged car Traefik bind sur ports < 1024
    pod-security.kubernetes.io/enforce: privileged
    pod-security.kubernetes.io/audit: privileged
    pod-security.kubernetes.io/warn: privileged
  annotations:
    description: "Namespace Traefik Ingress Controller + cert-manager"
